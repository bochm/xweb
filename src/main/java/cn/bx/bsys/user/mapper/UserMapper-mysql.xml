<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.bx.bsys.user.mapper.UserMapper"> 
	
    <sql id="userColumns">
    	a.id,
    	a.company_id,
    	a.dept_id,
    	a.login_name,
    	a.password,
    	a.no,
		a.name,
		a.email,
		a.phone,
		a.mobile,
		a.user_type,
		a.login_ip,
		a.login_date,
		a.remarks,
		a.login_flag,
		a.photo,
		a.status
    </sql>
    <!-- 根据登录名查询用户 -->
    
	<select id="findUserByLoginName" resultType="cn.bx.bsys.user.mapper.User">
		SELECT
		<include refid="userColumns"/>
		FROM sys_user a
		WHERE a.login_name = #{loginname}
	</select>
	<select id="listUser" resultType="cn.bx.bsys.user.mapper.User">
		SELECT
		<include refid="userColumns"/>
		FROM sys_user a
	</select>
</mapper>